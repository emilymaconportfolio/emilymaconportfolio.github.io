function activateAnimations(){var e=JSON.parse(fs.readFileSync("animate-config.json")),a,t,r,s=["source/_base.css"],n=0;for(a in e)if(e.hasOwnProperty(a)){t=e[a];for(var i=0;i<t.length;++i)s.push("source/"+a+"/"+t[i]+".css"),n+=1}return n?gutil.log(n+(n>1?" animations":" animation")+" activated."):gutil.log("No animations activated."),s}var autoprefixer=require("autoprefixer"),cssnano=require("cssnano"),fs=require("fs"),gulp=require("gulp"),concat=require("gulp-concat"),gutil=require("gulp-util"),header=require("gulp-header"),postcss=require("gulp-postcss"),rename=require("gulp-rename"),runSequence=require("run-sequence"),pkg=JSON.parse(fs.readFileSync("package.json")),activatedAnimations=activateAnimations(),opts={destPath:"./",concatName:"animate.css",autoprefixer:{browsers:["last 2 versions"],cascade:!1},minRename:{suffix:".min"},banner:['@charset "UTF-8";\n',"/*!"," * <%= name %> -<%= homepage %>"," * Version - <%= version %>"," * Licensed under the MIT license - http://opensource.org/licenses/MIT"," *"," * Copyright (c) <%= new Date().getFullYear() %> <%= author.name %>"," */\n\n"].join("\n")};gulp.task("default",function(){runSequence("createCSS","addHeader")}),gulp.task("createCSS",function(){return gulp.src(activatedAnimations).pipe(concat(opts.concatName)).pipe(postcss([autoprefixer(opts.autoprefixer)])).pipe(gulp.dest(opts.destPath)).pipe(postcss([autoprefixer(opts.autoprefixer),cssnano({reduceIdents:{keyframes:!1}})])).pipe(rename(opts.minRename)).pipe(gulp.dest(opts.destPath))}),gulp.task("addHeader",function(){return gulp.src("*.css").pipe(header(opts.banner,pkg)).pipe(gulp.dest(opts.destPath))});